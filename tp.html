<head>
  <title>Wellesley Goodwill Exchange</title>
</head>

<body>

  <div id = "header">
      <h1><i><span class = "thin">Wellesley's </span></i><br> Goodwill<span class = "thin">Exchange</span> </h1>

      {{#if currentUser}}
      <h3>  {{> account}} </h3>
      {{else}}
      <h2> {{> today}} </h2>
      {{/if}}

      <div id = "login"> {{> loginButtons}} </div>

      <div id = "leaderboard"> {{> leaderboard}}
       
      </div>

      <div id = "feed">

      {{#if currentUser}}
        <form class="new-task">
          <input id = "addTask" type="text" name="text" placeholder="Type to add new tasks" />
        </form>


      {{> public_feed}}

      {{> accepted_tasks}}

      {{> own_requests}}


    {{/if}}   

      <ul>
      {{#each tasks}}
        {{> task}}
      {{/each}}
      </ul>
      </div>
  </div>

</body>

<template name = "today">
    Today is {{formatDate date}}
</template>

<template name = "public_feed">
   <button id = "public"> Show community feed </button>
</template>

<template name = "accepted_tasks">
    <button id = "accepted"> Accepted tasks </button>
</template>

<template name = "own_requests">
    <button id = "requests"> My requests </button>
</template>

<template name = "account">
    Welcome to our collaborate platform for favors!
    <br>
    <!-- the below is our account functionality. we commented it out
    because it is currently not displaying points correctly, nor is the trade in working the way we wanted it to. -->

 <!--    You currently have <b>{{number}} ## </b>points total and <b> ## {{rides}} </b>free rides.
    <br>
    <button id = "trade"> Trade points: 20 pts for 1 free ride </button> -->
</template>

<template name="leaderboard">
    <div id = "leaders"> {{#if currentUser}} Feed for {{formatDate date}} {{else}} Today's leaderboard {{/if}}</div>

    <!-- tried to get it so leaderboard would display ONLY when user was NOT logged
    in, but the conditionals we had written didn't work -->
  
  {{#if currentUser}} 
    <div id = "board">
    <b> Current Leaderboard </b>
   <ol>
      {{#each points}}
       <li> <i>{{person}}:</i> <b>{{number}} </b></li>
      {{/each}}
    </ol>
  </div>
  {{/if}}
</template>
  
  
<template name="task">
  {{#if currentUser}}
  <li class="{{#if checked}}checked{{/if}} {{#if private}}private{{/if}}">
    <button class="delete">&times;</button>

  <input type="button" class="iaccept" value="Accept task">

    <span class="text"><strong>{{username}}</strong> - {{text}}  - {{createdAt}} - <b> Task has been completed by: {{done}}</b></span>
  </li>
  {{/if}}
</template>







